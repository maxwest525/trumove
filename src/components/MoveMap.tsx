import { useMemo } from "react";

interface MoveMapProps {
  fromZip: string;
  toZip: string;
}

// Approximate lat/lng centers for ZIP code prefixes (first 3 digits)
const ZIP_COORDS: Record<string, { x: number; y: number }> = {
  // Northeast
  "010": { x: 410, y: 110 }, "011": { x: 412, y: 108 }, "012": { x: 408, y: 105 },
  "013": { x: 406, y: 112 }, "014": { x: 414, y: 115 }, "015": { x: 416, y: 113 },
  "016": { x: 418, y: 111 }, "017": { x: 420, y: 114 }, "018": { x: 422, y: 112 },
  "019": { x: 424, y: 110 }, "020": { x: 426, y: 108 }, "021": { x: 425, y: 110 },
  "022": { x: 427, y: 107 }, "023": { x: 423, y: 109 }, "024": { x: 421, y: 106 },
  "025": { x: 419, y: 104 }, "026": { x: 417, y: 102 }, "027": { x: 415, y: 100 },
  "028": { x: 428, y: 125 }, "029": { x: 426, y: 127 },
  "030": { x: 420, y: 95 }, "031": { x: 418, y: 93 }, "032": { x: 416, y: 91 },
  "033": { x: 422, y: 97 }, "034": { x: 424, y: 99 }, "035": { x: 410, y: 85 },
  "036": { x: 412, y: 87 }, "037": { x: 414, y: 89 }, "038": { x: 420, y: 93 },
  "039": { x: 400, y: 75 }, "040": { x: 430, y: 80 }, "041": { x: 432, y: 82 },
  "042": { x: 434, y: 84 }, "043": { x: 428, y: 78 }, "044": { x: 426, y: 76 },
  "045": { x: 424, y: 74 }, "046": { x: 422, y: 72 }, "047": { x: 420, y: 70 },
  "048": { x: 418, y: 68 }, "049": { x: 416, y: 66 },
  "050": { x: 405, y: 85 }, "051": { x: 403, y: 83 }, "052": { x: 401, y: 81 },
  "053": { x: 399, y: 79 }, "054": { x: 402, y: 77 }, "055": { x: 404, y: 75 },
  "056": { x: 406, y: 73 }, "057": { x: 408, y: 71 }, "058": { x: 380, y: 60 },
  "059": { x: 100, y: 55 },
  "060": { x: 415, y: 125 }, "061": { x: 413, y: 123 }, "062": { x: 411, y: 121 },
  "063": { x: 409, y: 119 }, "064": { x: 417, y: 127 }, "065": { x: 419, y: 129 },
  "066": { x: 421, y: 131 }, "067": { x: 423, y: 133 }, "068": { x: 425, y: 135 },
  "069": { x: 427, y: 137 },
  "070": { x: 400, y: 135 }, "071": { x: 398, y: 133 }, "072": { x: 396, y: 131 },
  "073": { x: 394, y: 129 }, "074": { x: 402, y: 137 }, "075": { x: 404, y: 139 },
  "076": { x: 406, y: 141 }, "077": { x: 408, y: 143 }, "078": { x: 410, y: 145 },
  "079": { x: 412, y: 147 }, "080": { x: 414, y: 149 }, "081": { x: 416, y: 151 },
  "082": { x: 418, y: 153 }, "083": { x: 420, y: 155 }, "084": { x: 422, y: 157 },
  "085": { x: 404, y: 143 }, "086": { x: 406, y: 145 }, "087": { x: 408, y: 147 },
  "088": { x: 410, y: 149 }, "089": { x: 412, y: 151 },
  // New York
  "100": { x: 398, y: 130 }, "101": { x: 400, y: 128 }, "102": { x: 402, y: 126 },
  "103": { x: 396, y: 132 }, "104": { x: 394, y: 134 }, "105": { x: 392, y: 125 },
  "106": { x: 390, y: 123 }, "107": { x: 388, y: 121 }, "108": { x: 386, y: 119 },
  "109": { x: 384, y: 117 }, "110": { x: 405, y: 132 }, "111": { x: 407, y: 130 },
  "112": { x: 403, y: 134 }, "113": { x: 401, y: 136 }, "114": { x: 399, y: 138 },
  "115": { x: 408, y: 126 }, "116": { x: 410, y: 124 }, "117": { x: 412, y: 122 },
  "118": { x: 414, y: 120 }, "119": { x: 416, y: 118 },
  "120": { x: 390, y: 115 }, "121": { x: 388, y: 113 }, "122": { x: 386, y: 111 },
  "123": { x: 384, y: 109 }, "124": { x: 382, y: 107 }, "125": { x: 380, y: 105 },
  "126": { x: 378, y: 103 }, "127": { x: 376, y: 101 }, "128": { x: 374, y: 99 },
  "129": { x: 372, y: 97 }, "130": { x: 370, y: 120 }, "131": { x: 368, y: 118 },
  "132": { x: 366, y: 116 }, "133": { x: 364, y: 114 }, "134": { x: 362, y: 112 },
  "135": { x: 360, y: 110 }, "136": { x: 358, y: 108 }, "137": { x: 356, y: 106 },
  "138": { x: 354, y: 104 }, "139": { x: 352, y: 102 },
  "140": { x: 355, y: 115 }, "141": { x: 353, y: 113 }, "142": { x: 351, y: 111 },
  "143": { x: 349, y: 109 }, "144": { x: 347, y: 107 }, "145": { x: 345, y: 105 },
  "146": { x: 343, y: 103 }, "147": { x: 341, y: 101 }, "148": { x: 339, y: 99 },
  "149": { x: 337, y: 97 },
  // Pennsylvania  
  "150": { x: 365, y: 135 }, "151": { x: 363, y: 133 }, "152": { x: 361, y: 131 },
  "153": { x: 359, y: 129 }, "154": { x: 357, y: 127 }, "155": { x: 355, y: 125 },
  "156": { x: 353, y: 123 }, "157": { x: 351, y: 121 }, "158": { x: 349, y: 119 },
  "159": { x: 347, y: 117 }, "160": { x: 360, y: 130 }, "161": { x: 358, y: 128 },
  "162": { x: 356, y: 126 }, "163": { x: 354, y: 124 }, "164": { x: 352, y: 122 },
  "165": { x: 350, y: 120 }, "166": { x: 370, y: 135 }, "167": { x: 372, y: 137 },
  "168": { x: 374, y: 139 }, "169": { x: 376, y: 141 }, "170": { x: 378, y: 140 },
  "171": { x: 380, y: 142 }, "172": { x: 382, y: 144 }, "173": { x: 384, y: 146 },
  "174": { x: 386, y: 148 }, "175": { x: 388, y: 150 }, "176": { x: 390, y: 145 },
  "177": { x: 385, y: 143 }, "178": { x: 387, y: 145 }, "179": { x: 389, y: 147 },
  "180": { x: 391, y: 135 }, "181": { x: 393, y: 133 }, "182": { x: 385, y: 130 },
  "183": { x: 387, y: 128 }, "184": { x: 389, y: 126 }, "185": { x: 391, y: 124 },
  "186": { x: 393, y: 122 }, "187": { x: 395, y: 120 }, "188": { x: 397, y: 118 },
  "189": { x: 399, y: 116 }, "190": { x: 395, y: 145 }, "191": { x: 397, y: 143 },
  "192": { x: 399, y: 141 }, "193": { x: 401, y: 139 }, "194": { x: 393, y: 147 },
  "195": { x: 391, y: 149 }, "196": { x: 389, y: 151 },
  // Washington DC / Maryland / Virginia
  "200": { x: 385, y: 160 }, "201": { x: 387, y: 162 }, "202": { x: 383, y: 158 },
  "203": { x: 381, y: 156 }, "204": { x: 379, y: 158 }, "205": { x: 390, y: 160 },
  "206": { x: 388, y: 162 }, "207": { x: 386, y: 164 }, "208": { x: 392, y: 155 },
  "209": { x: 394, y: 153 }, "210": { x: 396, y: 155 }, "211": { x: 398, y: 153 },
  "212": { x: 395, y: 150 }, "213": { x: 393, y: 152 }, "214": { x: 391, y: 154 },
  "215": { x: 389, y: 156 }, "216": { x: 395, y: 148 }, "217": { x: 388, y: 158 },
  "218": { x: 400, y: 150 }, "219": { x: 398, y: 152 },
  "220": { x: 380, y: 165 }, "221": { x: 378, y: 163 }, "222": { x: 382, y: 167 },
  "223": { x: 384, y: 169 }, "224": { x: 375, y: 170 }, "225": { x: 373, y: 168 },
  "226": { x: 377, y: 165 }, "227": { x: 379, y: 167 }, "228": { x: 365, y: 175 },
  "229": { x: 363, y: 173 }, "230": { x: 385, y: 175 }, "231": { x: 387, y: 177 },
  "232": { x: 383, y: 173 }, "233": { x: 395, y: 175 }, "234": { x: 397, y: 173 },
  "235": { x: 393, y: 177 }, "236": { x: 398, y: 178 }, "237": { x: 370, y: 165 },
  "238": { x: 368, y: 163 }, "239": { x: 372, y: 167 }, "240": { x: 355, y: 175 },
  "241": { x: 353, y: 173 }, "242": { x: 357, y: 177 }, "243": { x: 350, y: 170 },
  "244": { x: 348, y: 168 }, "245": { x: 352, y: 172 }, "246": { x: 345, y: 175 },
  // North/South Carolina
  "270": { x: 375, y: 195 }, "271": { x: 365, y: 190 }, "272": { x: 360, y: 188 },
  "273": { x: 370, y: 193 }, "274": { x: 358, y: 192 }, "275": { x: 378, y: 198 },
  "276": { x: 355, y: 185 }, "277": { x: 380, y: 200 }, "278": { x: 365, y: 188 },
  "279": { x: 382, y: 202 }, "280": { x: 372, y: 195 }, "281": { x: 374, y: 193 },
  "282": { x: 376, y: 191 }, "283": { x: 378, y: 189 }, "284": { x: 380, y: 187 },
  "285": { x: 382, y: 185 }, "286": { x: 384, y: 195 }, "287": { x: 386, y: 193 },
  "288": { x: 388, y: 191 }, "289": { x: 390, y: 195 },
  "290": { x: 380, y: 210 }, "291": { x: 378, y: 208 }, "292": { x: 382, y: 212 },
  "293": { x: 375, y: 205 }, "294": { x: 373, y: 207 }, "295": { x: 385, y: 215 },
  "296": { x: 370, y: 203 }, "297": { x: 387, y: 213 }, "298": { x: 392, y: 218 },
  "299": { x: 394, y: 220 },
  // Georgia
  "300": { x: 355, y: 215 }, "301": { x: 353, y: 213 }, "302": { x: 357, y: 217 },
  "303": { x: 355, y: 210 }, "304": { x: 353, y: 208 }, "305": { x: 357, y: 212 },
  "306": { x: 350, y: 220 }, "307": { x: 348, y: 218 }, "308": { x: 365, y: 225 },
  "309": { x: 363, y: 223 }, "310": { x: 367, y: 227 }, "311": { x: 360, y: 220 },
  "312": { x: 358, y: 218 }, "313": { x: 370, y: 230 }, "314": { x: 375, y: 225 },
  "315": { x: 345, y: 215 }, "316": { x: 343, y: 213 }, "317": { x: 340, y: 210 },
  "318": { x: 338, y: 208 }, "319": { x: 380, y: 232 },
  // Florida
  "320": { x: 375, y: 235 }, "321": { x: 385, y: 265 }, "322": { x: 373, y: 233 },
  "323": { x: 387, y: 275 }, "324": { x: 370, y: 235 }, "325": { x: 365, y: 238 },
  "326": { x: 380, y: 255 }, "327": { x: 382, y: 260 }, "328": { x: 384, y: 265 },
  "329": { x: 386, y: 270 }, "330": { x: 388, y: 290 }, "331": { x: 390, y: 295 },
  "332": { x: 385, y: 288 }, "333": { x: 392, y: 292 }, "334": { x: 378, y: 250 },
  "335": { x: 376, y: 248 }, "336": { x: 374, y: 252 }, "337": { x: 372, y: 246 },
  "338": { x: 383, y: 285 }, "339": { x: 381, y: 283 }, "340": { x: 395, y: 298 },
  "341": { x: 370, y: 243 }, "342": { x: 368, y: 241 }, "344": { x: 379, y: 280 },
  "346": { x: 375, y: 278 }, "347": { x: 385, y: 282 },
  // Alabama
  "350": { x: 325, y: 215 }, "351": { x: 323, y: 213 }, "352": { x: 327, y: 217 },
  "354": { x: 320, y: 205 }, "355": { x: 318, y: 203 }, "356": { x: 322, y: 207 },
  "357": { x: 315, y: 210 }, "358": { x: 313, y: 208 }, "359": { x: 330, y: 225 },
  "360": { x: 335, y: 220 }, "361": { x: 333, y: 218 }, "362": { x: 337, y: 222 },
  "363": { x: 340, y: 230 }, "364": { x: 338, y: 228 }, "365": { x: 342, y: 232 },
  "366": { x: 345, y: 235 }, "367": { x: 328, y: 223 }, "368": { x: 326, y: 221 },
  "369": { x: 324, y: 219 },
  // Tennessee
  "370": { x: 325, y: 185 }, "371": { x: 323, y: 183 }, "372": { x: 327, y: 187 },
  "373": { x: 320, y: 180 }, "374": { x: 318, y: 178 }, "375": { x: 310, y: 185 },
  "376": { x: 308, y: 183 }, "377": { x: 312, y: 187 }, "378": { x: 305, y: 180 },
  "379": { x: 330, y: 190 }, "380": { x: 280, y: 185 }, "381": { x: 278, y: 183 },
  "382": { x: 282, y: 187 }, "383": { x: 275, y: 180 }, "384": { x: 285, y: 188 },
  "385": { x: 290, y: 185 },
  // Kentucky
  "400": { x: 325, y: 165 }, "401": { x: 323, y: 163 }, "402": { x: 327, y: 167 },
  "403": { x: 320, y: 160 }, "404": { x: 318, y: 158 }, "405": { x: 315, y: 162 },
  "406": { x: 335, y: 168 }, "407": { x: 340, y: 165 }, "408": { x: 345, y: 170 },
  "409": { x: 350, y: 168 }, "410": { x: 330, y: 163 }, "411": { x: 345, y: 165 },
  "412": { x: 340, y: 163 }, "413": { x: 335, y: 165 }, "414": { x: 348, y: 163 },
  "415": { x: 352, y: 165 }, "416": { x: 355, y: 168 }, "417": { x: 357, y: 170 },
  "418": { x: 353, y: 172 },
  // Ohio
  "430": { x: 340, y: 145 }, "431": { x: 338, y: 143 }, "432": { x: 342, y: 147 },
  "433": { x: 335, y: 140 }, "434": { x: 337, y: 148 }, "435": { x: 343, y: 150 },
  "436": { x: 330, y: 138 }, "437": { x: 328, y: 140 }, "438": { x: 345, y: 145 },
  "439": { x: 347, y: 143 }, "440": { x: 350, y: 135 }, "441": { x: 352, y: 137 },
  "442": { x: 348, y: 133 }, "443": { x: 355, y: 140 }, "444": { x: 353, y: 138 },
  "445": { x: 357, y: 145 }, "446": { x: 359, y: 143 }, "447": { x: 350, y: 148 },
  "448": { x: 348, y: 150 }, "449": { x: 346, y: 152 }, "450": { x: 335, y: 155 },
  "451": { x: 333, y: 153 }, "452": { x: 337, y: 157 }, "453": { x: 330, y: 150 },
  "454": { x: 328, y: 148 }, "455": { x: 332, y: 152 }, "456": { x: 340, y: 158 },
  "457": { x: 342, y: 156 }, "458": { x: 338, y: 160 },
  // Indiana
  "460": { x: 315, y: 150 }, "461": { x: 313, y: 148 }, "462": { x: 317, y: 152 },
  "463": { x: 310, y: 145 }, "464": { x: 308, y: 147 }, "465": { x: 312, y: 150 },
  "466": { x: 305, y: 140 }, "467": { x: 303, y: 142 }, "468": { x: 320, y: 155 },
  "469": { x: 318, y: 153 }, "470": { x: 310, y: 160 }, "471": { x: 308, y: 158 },
  "472": { x: 312, y: 162 }, "473": { x: 315, y: 158 }, "474": { x: 313, y: 156 },
  "475": { x: 317, y: 160 }, "476": { x: 300, y: 145 }, "477": { x: 298, y: 147 },
  "478": { x: 305, y: 150 }, "479": { x: 303, y: 152 },
  // Michigan
  "480": { x: 330, y: 120 }, "481": { x: 332, y: 122 }, "482": { x: 328, y: 118 },
  "483": { x: 335, y: 125 }, "484": { x: 337, y: 127 }, "485": { x: 325, y: 115 },
  "486": { x: 323, y: 117 }, "487": { x: 330, y: 130 }, "488": { x: 320, y: 110 },
  "489": { x: 318, y: 112 }, "490": { x: 315, y: 125 }, "491": { x: 313, y: 127 },
  "492": { x: 317, y: 130 }, "493": { x: 305, y: 105 }, "494": { x: 303, y: 103 },
  "495": { x: 310, y: 110 }, "496": { x: 308, y: 115 }, "497": { x: 300, y: 95 },
  "498": { x: 298, y: 93 }, "499": { x: 305, y: 90 },
  // Iowa
  "500": { x: 250, y: 130 }, "501": { x: 248, y: 128 }, "502": { x: 252, y: 132 },
  "503": { x: 245, y: 125 }, "504": { x: 260, y: 125 }, "505": { x: 258, y: 128 },
  "506": { x: 262, y: 130 }, "507": { x: 240, y: 132 }, "508": { x: 265, y: 128 },
  "509": { x: 268, y: 130 }, "510": { x: 235, y: 130 }, "511": { x: 238, y: 128 },
  "512": { x: 232, y: 132 }, "513": { x: 270, y: 125 }, "514": { x: 268, y: 123 },
  "515": { x: 250, y: 128 }, "516": { x: 233, y: 128 }, "520": { x: 265, y: 135 },
  "521": { x: 263, y: 133 }, "522": { x: 267, y: 137 }, "523": { x: 260, y: 135 },
  "524": { x: 270, y: 138 }, "525": { x: 255, y: 138 }, "526": { x: 275, y: 135 },
  "527": { x: 273, y: 133 }, "528": { x: 277, y: 137 },
  // Wisconsin
  "530": { x: 280, y: 105 }, "531": { x: 282, y: 107 }, "532": { x: 285, y: 110 },
  "534": { x: 278, y: 102 }, "535": { x: 276, y: 104 }, "536": { x: 274, y: 98 },
  "537": { x: 280, y: 112 }, "538": { x: 278, y: 114 }, "539": { x: 283, y: 108 },
  "540": { x: 270, y: 95 }, "541": { x: 268, y: 93 }, "542": { x: 265, y: 98 },
  "543": { x: 263, y: 96 }, "544": { x: 260, y: 92 }, "545": { x: 258, y: 94 },
  "546": { x: 270, y: 100 }, "547": { x: 273, y: 102 }, "548": { x: 255, y: 88 },
  "549": { x: 253, y: 86 },
  // Minnesota
  "550": { x: 255, y: 90 }, "551": { x: 253, y: 88 }, "553": { x: 257, y: 92 },
  "554": { x: 250, y: 85 }, "555": { x: 248, y: 83 }, "556": { x: 252, y: 87 },
  "557": { x: 245, y: 95 }, "558": { x: 240, y: 80 }, "559": { x: 238, y: 78 },
  "560": { x: 225, y: 90 }, "561": { x: 223, y: 88 }, "562": { x: 227, y: 92 },
  "563": { x: 220, y: 85 }, "564": { x: 230, y: 85 }, "565": { x: 225, y: 75 },
  "566": { x: 215, y: 70 }, "567": { x: 210, y: 65 },
  // South Dakota
  "570": { x: 195, y: 95 }, "571": { x: 193, y: 93 }, "572": { x: 197, y: 97 },
  "573": { x: 210, y: 100 }, "574": { x: 208, y: 98 }, "575": { x: 212, y: 102 },
  "576": { x: 185, y: 90 }, "577": { x: 180, y: 95 },
  // North Dakota
  "580": { x: 195, y: 65 }, "581": { x: 193, y: 63 }, "582": { x: 197, y: 67 },
  "583": { x: 180, y: 60 }, "584": { x: 178, y: 58 }, "585": { x: 165, y: 65 },
  "586": { x: 175, y: 70 }, "587": { x: 200, y: 68 }, "588": { x: 205, y: 70 },
  // Montana
  "590": { x: 115, y: 65 }, "591": { x: 125, y: 70 }, "592": { x: 105, y: 60 },
  "593": { x: 135, y: 75 }, "594": { x: 145, y: 70 }, "595": { x: 150, y: 68 },
  "596": { x: 155, y: 72 }, "597": { x: 160, y: 75 }, "598": { x: 165, y: 78 },
  "599": { x: 100, y: 55 },
  // Illinois
  "600": { x: 290, y: 140 }, "601": { x: 288, y: 138 }, "602": { x: 292, y: 142 },
  "603": { x: 285, y: 135 }, "604": { x: 295, y: 138 }, "605": { x: 293, y: 136 },
  "606": { x: 295, y: 130 }, "607": { x: 297, y: 132 }, "608": { x: 293, y: 128 },
  "609": { x: 280, y: 145 }, "610": { x: 278, y: 143 }, "611": { x: 282, y: 147 },
  "612": { x: 275, y: 148 }, "613": { x: 273, y: 146 }, "614": { x: 277, y: 150 },
  "615": { x: 285, y: 155 }, "616": { x: 283, y: 153 }, "617": { x: 287, y: 157 },
  "618": { x: 280, y: 160 }, "619": { x: 278, y: 162 }, "620": { x: 290, y: 165 },
  "622": { x: 285, y: 168 }, "623": { x: 275, y: 165 }, "624": { x: 273, y: 163 },
  "625": { x: 280, y: 155 }, "626": { x: 278, y: 153 }, "627": { x: 282, y: 157 },
  "628": { x: 275, y: 160 }, "629": { x: 285, y: 162 },
  // Missouri
  "630": { x: 265, y: 160 }, "631": { x: 268, y: 158 }, "633": { x: 263, y: 162 },
  "634": { x: 255, y: 155 }, "635": { x: 253, y: 157 }, "636": { x: 270, y: 163 },
  "637": { x: 245, y: 160 }, "638": { x: 273, y: 165 }, "639": { x: 275, y: 167 },
  "640": { x: 235, y: 150 }, "641": { x: 233, y: 148 }, "644": { x: 237, y: 152 },
  "645": { x: 230, y: 155 }, "646": { x: 228, y: 153 }, "647": { x: 232, y: 157 },
  "648": { x: 250, y: 165 }, "649": { x: 248, y: 163 }, "650": { x: 260, y: 168 },
  "651": { x: 258, y: 166 }, "652": { x: 262, y: 170 }, "653": { x: 255, y: 172 },
  "654": { x: 253, y: 170 }, "655": { x: 250, y: 175 }, "656": { x: 248, y: 173 },
  "657": { x: 252, y: 177 }, "658": { x: 245, y: 170 },
  // Kansas
  "660": { x: 220, y: 155 }, "661": { x: 218, y: 153 }, "662": { x: 222, y: 157 },
  "664": { x: 210, y: 158 }, "665": { x: 215, y: 160 }, "666": { x: 213, y: 158 },
  "667": { x: 205, y: 155 }, "668": { x: 200, y: 158 }, "669": { x: 195, y: 160 },
  "670": { x: 190, y: 155 }, "671": { x: 188, y: 153 }, "672": { x: 192, y: 157 },
  "673": { x: 180, y: 160 }, "674": { x: 185, y: 158 }, "675": { x: 175, y: 155 },
  "676": { x: 170, y: 158 }, "677": { x: 165, y: 155 }, "678": { x: 160, y: 158 },
  "679": { x: 155, y: 155 },
  // Nebraska
  "680": { x: 215, y: 130 }, "681": { x: 213, y: 128 }, "683": { x: 220, y: 128 },
  "684": { x: 210, y: 125 }, "685": { x: 205, y: 128 }, "686": { x: 200, y: 125 },
  "687": { x: 195, y: 128 }, "688": { x: 190, y: 125 }, "689": { x: 185, y: 128 },
  "690": { x: 180, y: 125 }, "691": { x: 175, y: 128 }, "692": { x: 170, y: 125 },
  "693": { x: 165, y: 128 },
  // Louisiana
  "700": { x: 265, y: 250 }, "701": { x: 268, y: 252 }, "703": { x: 263, y: 248 },
  "704": { x: 260, y: 245 }, "705": { x: 255, y: 248 }, "706": { x: 270, y: 248 },
  "707": { x: 250, y: 245 }, "708": { x: 248, y: 243 }, "710": { x: 245, y: 248 },
  "711": { x: 253, y: 250 }, "712": { x: 258, y: 252 }, "713": { x: 240, y: 235 },
  "714": { x: 238, y: 237 },
  // Arkansas
  "716": { x: 250, y: 200 }, "717": { x: 248, y: 198 }, "718": { x: 252, y: 202 },
  "719": { x: 245, y: 195 }, "720": { x: 260, y: 195 }, "721": { x: 258, y: 193 },
  "722": { x: 262, y: 197 }, "723": { x: 255, y: 200 }, "724": { x: 253, y: 202 },
  "725": { x: 257, y: 198 }, "726": { x: 265, y: 200 }, "727": { x: 268, y: 198 },
  "728": { x: 270, y: 195 }, "729": { x: 272, y: 200 },
  // Oklahoma
  "730": { x: 210, y: 190 }, "731": { x: 208, y: 188 }, "734": { x: 212, y: 192 },
  "735": { x: 205, y: 185 }, "736": { x: 203, y: 187 }, "737": { x: 215, y: 188 },
  "738": { x: 200, y: 190 }, "739": { x: 195, y: 188 }, "740": { x: 220, y: 195 },
  "741": { x: 218, y: 193 }, "743": { x: 225, y: 185 }, "744": { x: 223, y: 187 },
  "745": { x: 230, y: 190 }, "746": { x: 235, y: 188 }, "747": { x: 232, y: 192 },
  "748": { x: 190, y: 190 }, "749": { x: 185, y: 188 },
  // Texas
  "750": { x: 215, y: 225 }, "751": { x: 213, y: 223 }, "752": { x: 217, y: 227 },
  "753": { x: 210, y: 220 }, "754": { x: 208, y: 222 }, "755": { x: 205, y: 218 },
  "756": { x: 203, y: 220 }, "757": { x: 200, y: 215 }, "758": { x: 198, y: 217 },
  "759": { x: 195, y: 220 }, "760": { x: 220, y: 215 }, "761": { x: 218, y: 213 },
  "762": { x: 222, y: 217 }, "763": { x: 225, y: 210 }, "764": { x: 228, y: 215 },
  "765": { x: 235, y: 218 }, "766": { x: 233, y: 220 }, "767": { x: 238, y: 215 },
  "768": { x: 240, y: 210 }, "769": { x: 188, y: 215 },
  "770": { x: 235, y: 250 }, "771": { x: 233, y: 248 }, "772": { x: 237, y: 252 },
  "773": { x: 240, y: 255 }, "774": { x: 238, y: 253 }, "775": { x: 242, y: 257 },
  "776": { x: 230, y: 245 }, "777": { x: 228, y: 247 }, "778": { x: 225, y: 258 },
  "779": { x: 223, y: 256 },
  "780": { x: 230, y: 240 }, "781": { x: 228, y: 238 }, "782": { x: 215, y: 260 },
  "783": { x: 218, y: 262 }, "784": { x: 205, y: 255 }, "785": { x: 208, y: 258 },
  "786": { x: 200, y: 235 }, "787": { x: 198, y: 237 }, "788": { x: 195, y: 240 },
  "789": { x: 193, y: 242 }, "790": { x: 170, y: 200 }, "791": { x: 168, y: 198 },
  "792": { x: 172, y: 202 }, "793": { x: 165, y: 205 }, "794": { x: 163, y: 203 },
  "795": { x: 160, y: 195 }, "796": { x: 158, y: 197 }, "797": { x: 155, y: 200 },
  "798": { x: 140, y: 215 }, "799": { x: 145, y: 210 },
  // Colorado
  "800": { x: 155, y: 145 }, "801": { x: 153, y: 143 }, "802": { x: 157, y: 147 },
  "803": { x: 150, y: 140 }, "804": { x: 160, y: 148 }, "805": { x: 158, y: 150 },
  "806": { x: 145, y: 145 }, "807": { x: 165, y: 150 }, "808": { x: 163, y: 148 },
  "809": { x: 167, y: 152 }, "810": { x: 155, y: 135 }, "811": { x: 153, y: 137 },
  "812": { x: 160, y: 140 }, "813": { x: 140, y: 135 }, "814": { x: 145, y: 140 },
  "815": { x: 135, y: 138 }, "816": { x: 130, y: 140 },
  // Wyoming
  "820": { x: 135, y: 105 }, "821": { x: 133, y: 103 }, "822": { x: 137, y: 107 },
  "823": { x: 130, y: 100 }, "824": { x: 140, y: 108 }, "825": { x: 145, y: 105 },
  "826": { x: 148, y: 108 }, "827": { x: 155, y: 110 }, "828": { x: 160, y: 105 },
  "829": { x: 150, y: 100 }, "830": { x: 152, y: 102 }, "831": { x: 148, y: 98 },
  // Idaho
  "832": { x: 95, y: 105 }, "833": { x: 93, y: 103 }, "834": { x: 97, y: 107 },
  "835": { x: 75, y: 95 }, "836": { x: 80, y: 100 }, "837": { x: 85, y: 105 },
  "838": { x: 70, y: 90 },
  // Utah
  "840": { x: 110, y: 140 }, "841": { x: 108, y: 138 }, "842": { x: 112, y: 142 },
  "843": { x: 105, y: 145 }, "844": { x: 115, y: 148 }, "845": { x: 100, y: 150 },
  "846": { x: 120, y: 155 }, "847": { x: 95, y: 145 },
  // Arizona
  "850": { x: 105, y: 195 }, "851": { x: 103, y: 193 }, "852": { x: 107, y: 197 },
  "853": { x: 100, y: 190 }, "855": { x: 108, y: 200 }, "856": { x: 110, y: 190 },
  "857": { x: 95, y: 185 }, "859": { x: 90, y: 180 }, "860": { x: 85, y: 185 },
  "863": { x: 80, y: 190 }, "864": { x: 75, y: 185 }, "865": { x: 115, y: 205 },
  // New Mexico
  "870": { x: 140, y: 195 }, "871": { x: 138, y: 193 }, "872": { x: 142, y: 197 },
  "873": { x: 135, y: 190 }, "874": { x: 145, y: 188 }, "875": { x: 150, y: 192 },
  "877": { x: 148, y: 195 }, "878": { x: 155, y: 198 }, "879": { x: 130, y: 185 },
  "880": { x: 155, y: 205 }, "881": { x: 153, y: 203 }, "882": { x: 157, y: 207 },
  "883": { x: 150, y: 200 }, "884": { x: 145, y: 205 },
  // Nevada
  "889": { x: 75, y: 160 }, "890": { x: 73, y: 158 }, "891": { x: 77, y: 162 },
  "893": { x: 70, y: 145 }, "894": { x: 68, y: 143 }, "895": { x: 72, y: 147 },
  "897": { x: 65, y: 130 }, "898": { x: 63, y: 128 },
  // California
  "900": { x: 55, y: 190 }, "901": { x: 53, y: 188 }, "902": { x: 57, y: 192 },
  "903": { x: 50, y: 185 }, "904": { x: 52, y: 187 }, "905": { x: 58, y: 195 },
  "906": { x: 60, y: 197 }, "907": { x: 55, y: 193 }, "908": { x: 50, y: 190 },
  "910": { x: 62, y: 185 }, "911": { x: 60, y: 183 }, "912": { x: 64, y: 187 },
  "913": { x: 66, y: 189 }, "914": { x: 58, y: 180 }, "915": { x: 56, y: 182 },
  "916": { x: 68, y: 185 }, "917": { x: 70, y: 187 }, "918": { x: 65, y: 175 },
  "919": { x: 60, y: 178 },
  "920": { x: 48, y: 200 }, "921": { x: 50, y: 202 }, "922": { x: 75, y: 200 },
  "923": { x: 73, y: 198 }, "924": { x: 77, y: 202 }, "925": { x: 80, y: 195 },
  "926": { x: 50, y: 195 }, "927": { x: 52, y: 197 }, "928": { x: 48, y: 193 },
  "930": { x: 48, y: 175 }, "931": { x: 50, y: 177 }, "932": { x: 55, y: 170 },
  "933": { x: 60, y: 165 }, "934": { x: 45, y: 168 }, "935": { x: 80, y: 175 },
  "936": { x: 75, y: 170 }, "937": { x: 70, y: 168 },
  "939": { x: 38, y: 148 }, "940": { x: 40, y: 150 }, "941": { x: 35, y: 145 },
  "942": { x: 45, y: 152 }, "943": { x: 48, y: 155 }, "944": { x: 36, y: 143 },
  "945": { x: 38, y: 145 }, "946": { x: 40, y: 147 }, "947": { x: 42, y: 149 },
  "948": { x: 44, y: 148 }, "949": { x: 46, y: 150 },
  "950": { x: 35, y: 155 }, "951": { x: 65, y: 195 }, "952": { x: 67, y: 197 },
  "953": { x: 33, y: 153 }, "954": { x: 37, y: 157 }, "955": { x: 45, y: 125 },
  "956": { x: 40, y: 128 }, "957": { x: 42, y: 130 }, "958": { x: 48, y: 135 },
  "959": { x: 50, y: 137 }, "960": { x: 38, y: 138 },
  "961": { x: 43, y: 140 },
  // Oregon/Washington
  "970": { x: 55, y: 95 }, "971": { x: 53, y: 93 }, "972": { x: 57, y: 97 },
  "973": { x: 50, y: 90 }, "974": { x: 48, y: 92 }, "975": { x: 65, y: 95 },
  "976": { x: 70, y: 93 }, "977": { x: 75, y: 95 }, "978": { x: 55, y: 88 },
  "979": { x: 45, y: 85 },
  "980": { x: 52, y: 55 }, "981": { x: 50, y: 53 }, "982": { x: 54, y: 57 },
  "983": { x: 48, y: 50 }, "984": { x: 55, y: 60 }, "985": { x: 45, y: 58 },
  "986": { x: 60, y: 65 }, "988": { x: 65, y: 60 }, "989": { x: 70, y: 58 },
  "990": { x: 72, y: 55 }, "991": { x: 74, y: 57 }, "992": { x: 80, y: 55 },
  "993": { x: 85, y: 60 }, "994": { x: 90, y: 65 },
  // Alaska/Hawaii (positioned in corners)
  "995": { x: 60, y: 285 }, "996": { x: 55, y: 280 }, "997": { x: 50, y: 275 },
  "998": { x: 45, y: 290 }, "999": { x: 40, y: 285 },
  "967": { x: 100, y: 295 }, "968": { x: 95, y: 290 },
};

// Get approximate coordinates for a ZIP code
function getZipPosition(zip: string): { x: number; y: number } | null {
  if (zip.length < 3) return null;
  const prefix = zip.slice(0, 3);
  return ZIP_COORDS[prefix] || null;
}

// Generate curved path between two points
function generateArcPath(from: { x: number; y: number }, to: { x: number; y: number }): string {
  const midX = (from.x + to.x) / 2;
  const midY = (from.y + to.y) / 2;
  const dx = to.x - from.x;
  const dy = to.y - from.y;
  const dist = Math.sqrt(dx * dx + dy * dy);
  
  // Control point perpendicular to midpoint, offset based on distance
  const offset = Math.min(dist * 0.3, 40);
  const angle = Math.atan2(dy, dx) + Math.PI / 2;
  const cx = midX + Math.cos(angle) * offset;
  const cy = midY + Math.sin(angle) * offset;
  
  return `M ${from.x} ${from.y} Q ${cx} ${cy} ${to.x} ${to.y}`;
}

export default function MoveMap({ fromZip, toZip }: MoveMapProps) {
  const fromPos = useMemo(() => getZipPosition(fromZip), [fromZip]);
  const toPos = useMemo(() => getZipPosition(toZip), [toZip]);
  const arcPath = useMemo(() => {
    if (fromPos && toPos) {
      return generateArcPath(fromPos, toPos);
    }
    return null;
  }, [fromPos, toPos]);

  return (
    <div className="move-map-container">
      <svg 
        viewBox="0 0 450 320" 
        className="move-map-svg"
        preserveAspectRatio="xMidYMid meet"
      >
        {/* Simple US outline */}
        <path
          className="move-map-us-outline"
          d="M 30 50 L 95 45 L 95 75 L 75 85 L 80 95 L 95 105 L 90 125 L 70 130 L 65 145 L 55 155 L 35 145 L 30 170 L 45 185 L 55 200 L 75 205 L 95 195 L 105 180 L 120 175 L 130 155 L 155 145 L 170 125 L 190 115 L 210 100 L 225 85 L 250 80 L 275 85 L 295 100 L 300 85 L 320 80 L 340 95 L 360 105 L 380 100 L 400 95 L 415 90 L 430 100 L 425 115 L 400 125 L 395 140 L 385 155 L 390 170 L 395 180 L 390 195 L 385 210 L 375 225 L 385 235 L 395 250 L 390 270 L 380 280 L 365 275 L 350 255 L 340 235 L 325 220 L 310 210 L 295 200 L 280 190 L 270 205 L 260 225 L 250 240 L 240 260 L 225 275 L 210 265 L 195 250 L 180 235 L 165 220 L 150 210 L 135 225 L 120 215 L 105 200 L 95 210 L 80 200 L 65 210 L 50 205 L 40 195 L 35 175 L 30 150 L 25 120 L 30 90 L 30 50 Z"
        />
        
        {/* Arc path */}
        {arcPath && (
          <path
            d={arcPath}
            className="move-map-arc"
            fill="none"
          />
        )}
        
        {/* From marker */}
        {fromPos && (
          <g className="move-map-marker-group">
            <circle
              cx={fromPos.x}
              cy={fromPos.y}
              r="8"
              className="move-map-marker-pulse move-map-marker-from-pulse"
            />
            <circle
              cx={fromPos.x}
              cy={fromPos.y}
              r="5"
              className="move-map-marker-dot move-map-marker-from-dot"
            />
          </g>
        )}
        
        {/* To marker */}
        {toPos && (
          <g className="move-map-marker-group">
            <circle
              cx={toPos.x}
              cy={toPos.y}
              r="8"
              className="move-map-marker-pulse move-map-marker-to-pulse"
            />
            <circle
              cx={toPos.x}
              cy={toPos.y}
              r="5"
              className="move-map-marker-dot move-map-marker-to-dot"
            />
          </g>
        )}
      </svg>
      
      {/* Placeholder when no locations */}
      {!fromPos && !toPos && (
        <div className="move-map-placeholder">
          <span>Enter ZIPs to see route</span>
        </div>
      )}
    </div>
  );
}
