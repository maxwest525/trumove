// Distance calculation utilities using ZIP code coordinates

// Approximate pixel coordinates for 3-digit ZIP prefixes on a 960x600 US map
const ZIP_COORDS: Record<string, { x: number; y: number }> = {
  // Northeast
  '006': { x: 880, y: 180 }, '007': { x: 875, y: 175 }, '008': { x: 870, y: 170 },
  '009': { x: 865, y: 165 }, '010': { x: 820, y: 120 }, '011': { x: 825, y: 115 },
  '012': { x: 815, y: 125 }, '013': { x: 810, y: 130 }, '014': { x: 830, y: 120 },
  '015': { x: 835, y: 115 }, '016': { x: 825, y: 125 }, '017': { x: 820, y: 130 },
  '018': { x: 830, y: 125 }, '019': { x: 825, y: 130 }, '020': { x: 845, y: 115 },
  '021': { x: 850, y: 110 }, '022': { x: 840, y: 120 }, '023': { x: 835, y: 125 },
  '024': { x: 845, y: 115 }, '025': { x: 840, y: 110 }, '026': { x: 835, y: 120 },
  '027': { x: 855, y: 125 }, '028': { x: 860, y: 130 }, '029': { x: 865, y: 135 },
  '030': { x: 830, y: 105 }, '031': { x: 835, y: 100 }, '032': { x: 830, y: 95 },
  '033': { x: 835, y: 100 }, '034': { x: 830, y: 105 }, '035': { x: 825, y: 110 },
  '036': { x: 820, y: 105 }, '037': { x: 815, y: 100 }, '038': { x: 825, y: 95 },
  '039': { x: 820, y: 90 }, '040': { x: 850, y: 85 }, '041': { x: 855, y: 80 },
  '042': { x: 845, y: 90 }, '043': { x: 850, y: 95 }, '044': { x: 855, y: 90 },
  '045': { x: 850, y: 100 }, '046': { x: 845, y: 95 }, '047': { x: 840, y: 100 },
  '048': { x: 855, y: 105 }, '049': { x: 850, y: 110 }, '050': { x: 815, y: 100 },
  '051': { x: 810, y: 105 }, '052': { x: 815, y: 110 }, '053': { x: 810, y: 115 },
  '054': { x: 815, y: 95 }, '055': { x: 520, y: 120 }, '056': { x: 525, y: 115 },
  '057': { x: 530, y: 110 }, '058': { x: 430, y: 80 }, '059': { x: 275, y: 85 },
  '060': { x: 835, y: 145 }, '061': { x: 830, y: 150 }, '062': { x: 825, y: 145 },
  '063': { x: 830, y: 155 }, '064': { x: 825, y: 150 }, '065': { x: 820, y: 145 },
  '066': { x: 835, y: 140 }, '067': { x: 830, y: 145 }, '068': { x: 825, y: 140 },
  '069': { x: 820, y: 135 }, '070': { x: 805, y: 165 }, '071': { x: 800, y: 160 },
  '072': { x: 805, y: 155 }, '073': { x: 800, y: 160 }, '074': { x: 795, y: 165 },
  '075': { x: 800, y: 170 }, '076': { x: 805, y: 175 }, '077': { x: 810, y: 180 },
  '078': { x: 800, y: 165 }, '079': { x: 795, y: 160 }, '080': { x: 815, y: 175 },
  '081': { x: 810, y: 180 }, '082': { x: 815, y: 185 }, '083': { x: 820, y: 180 },
  '084': { x: 815, y: 175 }, '085': { x: 810, y: 170 }, '086': { x: 805, y: 175 },
  '087': { x: 810, y: 180 }, '088': { x: 815, y: 185 }, '089': { x: 810, y: 175 },
  // New York
  '100': { x: 810, y: 155 }, '101': { x: 815, y: 150 }, '102': { x: 810, y: 145 },
  '103': { x: 805, y: 160 }, '104': { x: 815, y: 155 }, '105': { x: 810, y: 150 },
  '106': { x: 805, y: 155 }, '107': { x: 810, y: 160 }, '108': { x: 805, y: 165 },
  '109': { x: 800, y: 155 }, '110': { x: 820, y: 160 }, '111': { x: 815, y: 165 },
  '112': { x: 820, y: 165 }, '113': { x: 825, y: 160 }, '114': { x: 820, y: 155 },
  '115': { x: 830, y: 165 }, '116': { x: 825, y: 160 }, '117': { x: 830, y: 155 },
  '118': { x: 835, y: 160 }, '119': { x: 830, y: 165 }, '120': { x: 790, y: 140 },
  '121': { x: 795, y: 135 }, '122': { x: 790, y: 130 }, '123': { x: 785, y: 140 },
  '124': { x: 795, y: 145 }, '125': { x: 790, y: 150 }, '126': { x: 785, y: 145 },
  '127': { x: 800, y: 150 }, '128': { x: 795, y: 145 }, '129': { x: 790, y: 140 },
  '130': { x: 770, y: 130 }, '131': { x: 765, y: 135 }, '132': { x: 770, y: 140 },
  '133': { x: 775, y: 130 }, '134': { x: 770, y: 125 }, '135': { x: 765, y: 130 },
  '136': { x: 760, y: 135 }, '137': { x: 755, y: 130 }, '138': { x: 750, y: 135 },
  '139': { x: 755, y: 140 }, '140': { x: 720, y: 135 }, '141': { x: 715, y: 130 },
  '142': { x: 720, y: 125 }, '143': { x: 725, y: 130 }, '144': { x: 730, y: 135 },
  '145': { x: 725, y: 140 }, '146': { x: 720, y: 145 }, '147': { x: 715, y: 140 },
  '148': { x: 750, y: 125 }, '149': { x: 745, y: 130 },
  // Pennsylvania
  '150': { x: 740, y: 165 }, '151': { x: 735, y: 170 }, '152': { x: 730, y: 165 },
  '153': { x: 725, y: 170 }, '154': { x: 720, y: 165 }, '155': { x: 715, y: 170 },
  '156': { x: 710, y: 165 }, '157': { x: 720, y: 175 }, '158': { x: 715, y: 180 },
  '159': { x: 710, y: 175 }, '160': { x: 705, y: 170 }, '161': { x: 700, y: 175 },
  '162': { x: 705, y: 165 }, '163': { x: 695, y: 160 }, '164': { x: 690, y: 165 },
  '165': { x: 695, y: 170 }, '166': { x: 700, y: 160 }, '167': { x: 710, y: 160 },
  '168': { x: 715, y: 155 }, '169': { x: 705, y: 155 }, '170': { x: 765, y: 170 },
  '171': { x: 760, y: 175 }, '172': { x: 765, y: 180 }, '173': { x: 770, y: 175 },
  '174': { x: 755, y: 170 }, '175': { x: 760, y: 165 }, '176': { x: 775, y: 170 },
  '177': { x: 770, y: 165 }, '178': { x: 780, y: 175 }, '179': { x: 775, y: 180 },
  '180': { x: 790, y: 170 }, '181': { x: 785, y: 175 }, '182': { x: 780, y: 165 },
  '183': { x: 785, y: 160 }, '184': { x: 775, y: 155 }, '185': { x: 780, y: 160 },
  '186': { x: 770, y: 155 }, '187': { x: 775, y: 150 }, '188': { x: 795, y: 175 },
  '189': { x: 790, y: 180 }, '190': { x: 795, y: 170 }, '191': { x: 800, y: 175 },
  '192': { x: 795, y: 180 }, '193': { x: 790, y: 175 }, '194': { x: 795, y: 165 },
  '195': { x: 800, y: 160 }, '196': { x: 800, y: 170 },
  // DC / Maryland / Virginia
  '200': { x: 780, y: 195 }, '201': { x: 775, y: 200 }, '202': { x: 785, y: 195 },
  '203': { x: 780, y: 200 }, '204': { x: 775, y: 195 }, '205': { x: 770, y: 200 },
  '206': { x: 780, y: 205 }, '207': { x: 775, y: 210 }, '208': { x: 785, y: 200 },
  '209': { x: 790, y: 195 }, '210': { x: 780, y: 190 }, '211': { x: 785, y: 185 },
  '212': { x: 790, y: 190 }, '214': { x: 775, y: 190 }, '215': { x: 780, y: 185 },
  '216': { x: 795, y: 190 }, '217': { x: 760, y: 195 }, '218': { x: 800, y: 195 },
  '219': { x: 755, y: 190 }, '220': { x: 765, y: 205 }, '221': { x: 760, y: 200 },
  '222': { x: 770, y: 205 }, '223': { x: 765, y: 210 }, '224': { x: 755, y: 215 },
  '225': { x: 750, y: 210 }, '226': { x: 760, y: 210 }, '227': { x: 755, y: 205 },
  '228': { x: 750, y: 220 }, '229': { x: 745, y: 215 }, '230': { x: 765, y: 220 },
  '231': { x: 775, y: 225 }, '232': { x: 770, y: 230 }, '233': { x: 780, y: 230 },
  '234': { x: 785, y: 235 }, '235': { x: 780, y: 240 }, '236': { x: 785, y: 230 },
  '237': { x: 775, y: 235 }, '238': { x: 755, y: 225 }, '239': { x: 745, y: 230 },
  '240': { x: 740, y: 210 }, '241': { x: 735, y: 215 }, '242': { x: 730, y: 220 },
  '243': { x: 735, y: 225 }, '244': { x: 725, y: 220 }, '245': { x: 730, y: 210 },
  '246': { x: 720, y: 215 },
  // North Carolina / South Carolina / Georgia
  '270': { x: 755, y: 260 }, '271': { x: 745, y: 255 }, '272': { x: 760, y: 265 },
  '273': { x: 750, y: 270 }, '274': { x: 740, y: 265 }, '275': { x: 755, y: 275 },
  '276': { x: 735, y: 260 }, '277': { x: 745, y: 280 }, '278': { x: 730, y: 270 },
  '279': { x: 750, y: 285 }, '280': { x: 760, y: 280 }, '281': { x: 755, y: 290 },
  '282': { x: 745, y: 275 }, '283': { x: 765, y: 285 }, '284': { x: 770, y: 275 },
  '285': { x: 765, y: 270 }, '286': { x: 730, y: 255 }, '287': { x: 725, y: 265 },
  '288': { x: 775, y: 285 }, '289': { x: 765, y: 265 },
  '290': { x: 755, y: 305 }, '291': { x: 760, y: 310 }, '292': { x: 750, y: 300 },
  '293': { x: 765, y: 305 }, '294': { x: 745, y: 310 }, '295': { x: 755, y: 315 },
  '296': { x: 740, y: 305 }, '297': { x: 735, y: 300 }, '298': { x: 770, y: 315 },
  '299': { x: 765, y: 320 },
  '300': { x: 725, y: 325 }, '301': { x: 720, y: 320 }, '302': { x: 730, y: 330 },
  '303': { x: 715, y: 325 }, '304': { x: 725, y: 335 }, '305': { x: 720, y: 340 },
  '306': { x: 710, y: 330 }, '307': { x: 715, y: 320 }, '308': { x: 740, y: 335 },
  '309': { x: 745, y: 325 }, '310': { x: 745, y: 340 }, '311': { x: 720, y: 325 },
  '312': { x: 715, y: 335 }, '313': { x: 735, y: 340 }, '314': { x: 730, y: 345 },
  '315': { x: 700, y: 330 }, '316': { x: 705, y: 340 }, '317': { x: 695, y: 335 },
  '318': { x: 700, y: 345 }, '319': { x: 745, y: 350 },
  // Florida
  '320': { x: 745, y: 375 }, '321': { x: 760, y: 395 }, '322': { x: 745, y: 360 },
  '323': { x: 755, y: 380 }, '324': { x: 735, y: 370 }, '325': { x: 430, y: 345 },
  '326': { x: 750, y: 390 }, '327': { x: 760, y: 405 }, '328': { x: 755, y: 395 },
  '329': { x: 765, y: 400 }, '330': { x: 780, y: 455 }, '331': { x: 775, y: 450 },
  '332': { x: 780, y: 445 }, '333': { x: 775, y: 440 }, '334': { x: 770, y: 435 },
  '335': { x: 755, y: 420 }, '336': { x: 750, y: 415 }, '337': { x: 745, y: 425 },
  '338': { x: 755, y: 430 }, '339': { x: 760, y: 425 }, '340': { x: 870, y: 430 },
  '341': { x: 745, y: 405 }, '342': { x: 740, y: 395 }, '344': { x: 745, y: 410 },
  '346': { x: 750, y: 410 }, '347': { x: 765, y: 420 }, '349': { x: 770, y: 430 },
  // Ohio / Michigan / Indiana
  '430': { x: 685, y: 170 }, '431': { x: 690, y: 175 }, '432': { x: 695, y: 170 },
  '433': { x: 700, y: 180 }, '434': { x: 695, y: 185 }, '435': { x: 690, y: 180 },
  '436': { x: 680, y: 175 }, '437': { x: 685, y: 185 }, '438': { x: 675, y: 180 },
  '439': { x: 680, y: 190 }, '440': { x: 705, y: 160 }, '441': { x: 710, y: 155 },
  '442': { x: 700, y: 165 }, '443': { x: 695, y: 160 }, '444': { x: 690, y: 165 },
  '445': { x: 695, y: 175 }, '446': { x: 690, y: 185 }, '447': { x: 685, y: 195 },
  '448': { x: 680, y: 195 }, '449': { x: 675, y: 190 }, '450': { x: 665, y: 195 },
  '451': { x: 660, y: 200 }, '452': { x: 670, y: 195 }, '453': { x: 665, y: 200 },
  '454': { x: 660, y: 190 }, '455': { x: 655, y: 195 }, '456': { x: 660, y: 205 },
  '457': { x: 665, y: 210 }, '458': { x: 655, y: 205 },
  '460': { x: 620, y: 195 }, '461': { x: 625, y: 190 }, '462': { x: 620, y: 185 },
  '463': { x: 615, y: 200 }, '464': { x: 625, y: 205 }, '465': { x: 630, y: 195 },
  '466': { x: 620, y: 190 }, '467': { x: 615, y: 185 }, '468': { x: 625, y: 180 },
  '469': { x: 610, y: 195 }, '470': { x: 670, y: 210 }, '471': { x: 665, y: 215 },
  '472': { x: 660, y: 215 }, '473': { x: 615, y: 210 }, '474': { x: 620, y: 215 },
  '475': { x: 655, y: 185 }, '476': { x: 650, y: 190 }, '477': { x: 610, y: 215 },
  '478': { x: 605, y: 205 }, '479': { x: 600, y: 210 },
  '480': { x: 660, y: 150 }, '481': { x: 670, y: 145 }, '482': { x: 675, y: 150 },
  '483': { x: 665, y: 155 }, '484': { x: 660, y: 145 }, '485': { x: 655, y: 150 },
  '486': { x: 650, y: 145 }, '487': { x: 645, y: 140 }, '488': { x: 640, y: 145 },
  '489': { x: 635, y: 150 }, '490': { x: 630, y: 155 }, '491': { x: 620, y: 150 },
  '492': { x: 615, y: 155 }, '493': { x: 625, y: 160 }, '494': { x: 605, y: 115 },
  '495': { x: 595, y: 110 }, '496': { x: 610, y: 145 }, '497': { x: 605, y: 120 },
  '498': { x: 585, y: 95 }, '499': { x: 580, y: 100 },
  // Illinois / Wisconsin
  '600': { x: 590, y: 185 }, '601': { x: 595, y: 180 }, '602': { x: 600, y: 185 },
  '603': { x: 605, y: 180 }, '604': { x: 595, y: 175 }, '605': { x: 590, y: 180 },
  '606': { x: 600, y: 175 }, '607': { x: 605, y: 170 }, '608': { x: 595, y: 190 },
  '609': { x: 585, y: 185 }, '610': { x: 575, y: 180 }, '611': { x: 570, y: 175 },
  '612': { x: 565, y: 180 }, '613': { x: 560, y: 185 }, '614': { x: 570, y: 190 },
  '615': { x: 565, y: 195 }, '616': { x: 575, y: 200 }, '617': { x: 570, y: 205 },
  '618': { x: 580, y: 210 }, '619': { x: 575, y: 215 }, '620': { x: 555, y: 185 },
  '622': { x: 560, y: 195 }, '623': { x: 555, y: 200 }, '624': { x: 550, y: 195 },
  '625': { x: 555, y: 190 }, '626': { x: 560, y: 175 }, '627': { x: 565, y: 175 },
  '628': { x: 580, y: 220 }, '629': { x: 575, y: 225 },
  '530': { x: 565, y: 155 }, '531': { x: 570, y: 150 }, '532': { x: 585, y: 155 },
  '534': { x: 560, y: 150 }, '535': { x: 555, y: 145 }, '537': { x: 565, y: 145 },
  '538': { x: 555, y: 155 }, '539': { x: 560, y: 160 }, '540': { x: 555, y: 135 },
  '541': { x: 560, y: 130 }, '542': { x: 550, y: 135 }, '543': { x: 545, y: 140 },
  '544': { x: 540, y: 130 }, '545': { x: 535, y: 135 }, '546': { x: 565, y: 125 },
  '547': { x: 555, y: 130 }, '548': { x: 535, y: 120 }, '549': { x: 540, y: 110 },
  // Minnesota / Iowa / Missouri
  '550': { x: 515, y: 140 }, '551': { x: 520, y: 135 }, '553': { x: 510, y: 135 },
  '554': { x: 515, y: 130 }, '555': { x: 520, y: 125 }, '556': { x: 505, y: 115 },
  '557': { x: 510, y: 110 }, '558': { x: 490, y: 130 }, '559': { x: 485, y: 135 },
  '560': { x: 435, y: 145 }, '561': { x: 440, y: 150 }, '562': { x: 430, y: 155 },
  '563': { x: 485, y: 115 }, '564': { x: 480, y: 110 }, '565': { x: 475, y: 105 },
  '566': { x: 425, y: 95 }, '567': { x: 420, y: 100 },
  '500': { x: 505, y: 175 }, '501': { x: 510, y: 170 }, '502': { x: 500, y: 180 },
  '503': { x: 495, y: 175 }, '504': { x: 485, y: 170 }, '505': { x: 480, y: 165 },
  '506': { x: 475, y: 170 }, '507': { x: 485, y: 175 }, '508': { x: 490, y: 180 },
  '509': { x: 495, y: 185 }, '510': { x: 475, y: 185 }, '511': { x: 470, y: 180 },
  '512': { x: 465, y: 185 }, '513': { x: 515, y: 185 }, '514': { x: 520, y: 190 },
  '515': { x: 500, y: 175 }, '516': { x: 495, y: 180 }, '520': { x: 535, y: 185 },
  '521': { x: 540, y: 180 }, '522': { x: 535, y: 175 }, '523': { x: 530, y: 180 },
  '524': { x: 540, y: 190 }, '525': { x: 535, y: 195 }, '526': { x: 545, y: 190 },
  '527': { x: 545, y: 185 }, '528': { x: 550, y: 190 },
  '630': { x: 540, y: 210 }, '631': { x: 545, y: 205 }, '633': { x: 535, y: 215 },
  '634': { x: 530, y: 210 }, '635': { x: 520, y: 205 }, '636': { x: 515, y: 210 },
  '637': { x: 545, y: 220 }, '638': { x: 550, y: 225 }, '639': { x: 540, y: 230 },
  '640': { x: 495, y: 215 }, '641': { x: 490, y: 210 }, '644': { x: 485, y: 220 },
  '645': { x: 480, y: 215 }, '646': { x: 475, y: 210 }, '647': { x: 485, y: 225 },
  '648': { x: 505, y: 230 }, '649': { x: 500, y: 225 }, '650': { x: 535, y: 235 },
  '651': { x: 530, y: 240 }, '652': { x: 525, y: 235 }, '653': { x: 540, y: 240 },
  '654': { x: 535, y: 245 }, '655': { x: 490, y: 235 }, '656': { x: 495, y: 240 },
  '657': { x: 485, y: 240 }, '658': { x: 490, y: 230 },
  // Kansas / Nebraska
  '660': { x: 455, y: 215 }, '661': { x: 450, y: 210 }, '662': { x: 445, y: 215 },
  '664': { x: 460, y: 220 }, '665': { x: 455, y: 225 }, '666': { x: 450, y: 230 },
  '667': { x: 445, y: 225 }, '668': { x: 435, y: 220 }, '669': { x: 430, y: 225 },
  '670': { x: 420, y: 230 }, '671': { x: 415, y: 225 }, '672': { x: 410, y: 230 },
  '673': { x: 405, y: 235 }, '674': { x: 425, y: 220 }, '675': { x: 430, y: 215 },
  '676': { x: 385, y: 225 }, '677': { x: 390, y: 230 }, '678': { x: 365, y: 220 },
  '679': { x: 375, y: 225 },
  '680': { x: 445, y: 190 }, '681': { x: 450, y: 185 }, '683': { x: 455, y: 190 },
  '684': { x: 440, y: 185 }, '685': { x: 430, y: 190 }, '686': { x: 435, y: 195 },
  '687': { x: 420, y: 185 }, '688': { x: 415, y: 180 }, '689': { x: 405, y: 185 },
  '690': { x: 395, y: 175 }, '691': { x: 385, y: 180 }, '692': { x: 375, y: 175 },
  '693': { x: 365, y: 180 },
  // Texas
  '750': { x: 440, y: 335 }, '751': { x: 445, y: 340 }, '752': { x: 450, y: 345 },
  '753': { x: 435, y: 340 }, '754': { x: 430, y: 335 }, '755': { x: 425, y: 340 },
  '756': { x: 420, y: 345 }, '757': { x: 430, y: 350 }, '758': { x: 435, y: 355 },
  '759': { x: 425, y: 330 }, '760': { x: 415, y: 335 }, '761': { x: 420, y: 350 },
  '762': { x: 425, y: 345 }, '763': { x: 430, y: 355 }, '764': { x: 415, y: 355 },
  '765': { x: 410, y: 350 }, '766': { x: 420, y: 360 }, '767': { x: 405, y: 360 },
  '768': { x: 395, y: 355 }, '769': { x: 385, y: 340 }, '770': { x: 475, y: 370 },
  '771': { x: 480, y: 375 }, '772': { x: 485, y: 380 }, '773': { x: 470, y: 375 },
  '774': { x: 475, y: 385 }, '775': { x: 480, y: 395 }, '776': { x: 465, y: 365 },
  '777': { x: 460, y: 370 }, '778': { x: 455, y: 365 }, '779': { x: 450, y: 360 },
  '780': { x: 450, y: 385 }, '781': { x: 445, y: 390 }, '782': { x: 455, y: 395 },
  '783': { x: 450, y: 400 }, '784': { x: 445, y: 405 }, '785': { x: 435, y: 395 },
  '786': { x: 440, y: 410 }, '787': { x: 430, y: 405 }, '788': { x: 420, y: 400 },
  '789': { x: 410, y: 410 }, '790': { x: 370, y: 330 }, '791': { x: 365, y: 335 },
  '792': { x: 375, y: 340 }, '793': { x: 360, y: 320 }, '794': { x: 355, y: 330 },
  '795': { x: 350, y: 320 }, '796': { x: 345, y: 315 }, '797': { x: 340, y: 325 },
  '798': { x: 320, y: 360 }, '799': { x: 325, y: 350 },
  // Colorado / Wyoming / Montana
  '800': { x: 335, y: 235 }, '801': { x: 340, y: 230 }, '802': { x: 345, y: 240 },
  '803': { x: 335, y: 245 }, '804': { x: 340, y: 250 }, '805': { x: 345, y: 255 },
  '806': { x: 330, y: 255 }, '807': { x: 325, y: 250 }, '808': { x: 320, y: 245 },
  '809': { x: 330, y: 235 }, '810': { x: 340, y: 220 }, '811': { x: 335, y: 215 },
  '812': { x: 345, y: 210 }, '813': { x: 350, y: 215 }, '814': { x: 355, y: 225 },
  '815': { x: 350, y: 230 }, '816': { x: 345, y: 235 },
  '820': { x: 320, y: 175 }, '821': { x: 315, y: 180 }, '822': { x: 310, y: 170 },
  '823': { x: 325, y: 165 }, '824': { x: 330, y: 175 }, '825': { x: 335, y: 165 },
  '826': { x: 340, y: 170 }, '827': { x: 320, y: 155 }, '828': { x: 325, y: 150 },
  '829': { x: 310, y: 185 }, '830': { x: 305, y: 190 }, '831': { x: 315, y: 195 },
  '590': { x: 295, y: 100 }, '591': { x: 290, y: 95 }, '592': { x: 340, y: 90 },
  '593': { x: 335, y: 85 }, '594': { x: 255, y: 80 }, '595': { x: 250, y: 85 },
  '596': { x: 285, y: 90 }, '597': { x: 280, y: 95 }, '598': { x: 310, y: 85 },
  '599': { x: 315, y: 80 },
  // Utah / Nevada / Arizona
  '840': { x: 250, y: 230 }, '841': { x: 255, y: 225 }, '842': { x: 245, y: 235 },
  '843': { x: 260, y: 220 }, '844': { x: 240, y: 240 }, '845': { x: 255, y: 250 },
  '846': { x: 265, y: 245 }, '847': { x: 270, y: 240 },
  '889': { x: 190, y: 250 }, '890': { x: 185, y: 245 }, '891': { x: 180, y: 250 },
  '893': { x: 195, y: 225 }, '894': { x: 200, y: 220 }, '895': { x: 190, y: 230 },
  '897': { x: 175, y: 220 }, '898': { x: 185, y: 210 },
  '850': { x: 245, y: 315 }, '851': { x: 250, y: 310 }, '852': { x: 255, y: 320 },
  '853': { x: 240, y: 320 }, '854': { x: 235, y: 315 }, '855': { x: 260, y: 315 },
  '856': { x: 265, y: 325 }, '857': { x: 230, y: 310 }, '859': { x: 225, y: 325 },
  '860': { x: 215, y: 285 }, '863': { x: 220, y: 295 }, '864': { x: 280, y: 295 },
  '865': { x: 275, y: 305 },
  // New Mexico
  '870': { x: 315, y: 295 }, '871': { x: 310, y: 290 }, '872': { x: 320, y: 285 },
  '873': { x: 305, y: 300 }, '874': { x: 330, y: 280 }, '875': { x: 325, y: 295 },
  '877': { x: 335, y: 305 }, '878': { x: 300, y: 315 }, '879': { x: 295, y: 310 },
  '880': { x: 330, y: 315 }, '881': { x: 340, y: 320 }, '882': { x: 325, y: 325 },
  '883': { x: 335, y: 310 }, '884': { x: 310, y: 320 },
  // California
  '900': { x: 145, y: 305 }, '901': { x: 150, y: 310 }, '902': { x: 145, y: 315 },
  '903': { x: 155, y: 305 }, '904': { x: 140, y: 310 }, '905': { x: 150, y: 320 },
  '906': { x: 145, y: 325 }, '907': { x: 155, y: 315 }, '908': { x: 160, y: 310 },
  '910': { x: 150, y: 295 }, '911': { x: 155, y: 300 }, '912': { x: 145, y: 300 },
  '913': { x: 160, y: 295 }, '914': { x: 155, y: 290 }, '915': { x: 150, y: 285 },
  '916': { x: 165, y: 305 }, '917': { x: 170, y: 310 }, '918': { x: 165, y: 315 },
  '919': { x: 170, y: 320 }, '920': { x: 165, y: 330 }, '921': { x: 170, y: 335 },
  '922': { x: 195, y: 325 }, '923': { x: 200, y: 320 }, '924': { x: 175, y: 315 },
  '925': { x: 180, y: 320 }, '926': { x: 175, y: 325 }, '927': { x: 180, y: 330 },
  '928': { x: 185, y: 315 }, '930': { x: 135, y: 280 }, '931': { x: 140, y: 275 },
  '932': { x: 130, y: 265 }, '933': { x: 140, y: 270 }, '934': { x: 125, y: 260 },
  '935': { x: 165, y: 285 }, '936': { x: 130, y: 250 }, '937': { x: 135, y: 255 },
  '938': { x: 125, y: 245 }, '939': { x: 115, y: 225 }, '940': { x: 110, y: 215 },
  '941': { x: 105, y: 220 }, '942': { x: 115, y: 205 }, '943': { x: 120, y: 215 },
  '944': { x: 110, y: 210 }, '945': { x: 115, y: 195 }, '946': { x: 120, y: 200 },
  '947': { x: 110, y: 205 }, '948': { x: 115, y: 210 }, '949': { x: 105, y: 195 },
  '950': { x: 95, y: 215 }, '951': { x: 165, y: 310 }, '952': { x: 160, y: 305 },
  '953': { x: 100, y: 240 }, '954': { x: 95, y: 200 }, '955': { x: 90, y: 170 },
  '956': { x: 95, y: 180 }, '957': { x: 100, y: 190 }, '958': { x: 115, y: 185 },
  '959': { x: 120, y: 190 }, '960': { x: 100, y: 160 }, '961': { x: 115, y: 175 },
  // Oregon / Washington / Idaho
  '970': { x: 110, y: 150 }, '971': { x: 105, y: 155 }, '972': { x: 100, y: 150 },
  '973': { x: 115, y: 145 }, '974': { x: 95, y: 155 }, '975': { x: 130, y: 155 },
  '976': { x: 135, y: 150 }, '977': { x: 140, y: 160 }, '978': { x: 145, y: 155 },
  '979': { x: 150, y: 160 },
  '980': { x: 115, y: 100 }, '981': { x: 110, y: 105 }, '982': { x: 120, y: 95 },
  '983': { x: 105, y: 110 }, '984': { x: 115, y: 115 }, '985': { x: 100, y: 100 },
  '986': { x: 165, y: 110 }, '988': { x: 170, y: 115 }, '989': { x: 175, y: 120 },
  '990': { x: 180, y: 105 }, '991': { x: 175, y: 100 }, '992': { x: 185, y: 110 },
  '993': { x: 190, y: 105 }, '994': { x: 195, y: 115 },
  '832': { x: 200, y: 180 }, '833': { x: 205, y: 175 }, '834': { x: 195, y: 185 },
  '835': { x: 210, y: 190 }, '836': { x: 215, y: 180 }, '837': { x: 220, y: 185 },
  '838': { x: 185, y: 120 },
  // Alaska / Hawaii (approximate positions on inset)
  '995': { x: 120, y: 450 }, '996': { x: 125, y: 455 }, '997': { x: 115, y: 460 },
  '998': { x: 130, y: 450 }, '999': { x: 125, y: 445 },
  '967': { x: 280, y: 480 }, '968': { x: 285, y: 475 },
  // Kentucky / Tennessee / Alabama / Mississippi / Louisiana / Arkansas
  '400': { x: 650, y: 225 }, '401': { x: 655, y: 220 }, '402': { x: 645, y: 230 },
  '403': { x: 660, y: 225 }, '404': { x: 650, y: 235 }, '405': { x: 640, y: 225 },
  '406': { x: 635, y: 230 }, '407': { x: 645, y: 240 }, '408': { x: 640, y: 245 },
  '409': { x: 655, y: 240 }, '410': { x: 660, y: 235 }, '411': { x: 670, y: 230 },
  '412': { x: 675, y: 225 }, '413': { x: 680, y: 235 }, '414': { x: 685, y: 230 },
  '415': { x: 675, y: 240 }, '416': { x: 680, y: 245 }, '417': { x: 625, y: 235 },
  '418': { x: 620, y: 230 }, '420': { x: 610, y: 225 }, '421': { x: 605, y: 230 },
  '422': { x: 615, y: 235 }, '423': { x: 620, y: 240 }, '424': { x: 610, y: 245 },
  '425': { x: 605, y: 240 }, '426': { x: 625, y: 250 }, '427': { x: 620, y: 245 },
  '370': { x: 605, y: 255 }, '371': { x: 610, y: 250 }, '372': { x: 615, y: 260 },
  '373': { x: 620, y: 255 }, '374': { x: 625, y: 260 }, '375': { x: 630, y: 255 },
  '376': { x: 635, y: 265 }, '377': { x: 640, y: 260 }, '378': { x: 645, y: 265 },
  '379': { x: 650, y: 270 }, '380': { x: 560, y: 265 }, '381': { x: 565, y: 270 },
  '382': { x: 555, y: 270 }, '383': { x: 575, y: 275 }, '384': { x: 570, y: 280 },
  '385': { x: 580, y: 275 },
  '350': { x: 615, y: 290 }, '351': { x: 620, y: 285 }, '352': { x: 610, y: 295 },
  '354': { x: 630, y: 295 }, '355': { x: 625, y: 290 }, '356': { x: 640, y: 295 },
  '357': { x: 645, y: 290 }, '358': { x: 650, y: 300 }, '359': { x: 640, y: 305 },
  '360': { x: 605, y: 295 }, '361': { x: 600, y: 300 }, '362': { x: 610, y: 305 },
  '363': { x: 595, y: 290 }, '364': { x: 590, y: 295 }, '365': { x: 585, y: 305 },
  '366': { x: 645, y: 310 }, '367': { x: 640, y: 315 }, '368': { x: 635, y: 320 },
  '369': { x: 650, y: 320 },
  '386': { x: 560, y: 295 }, '387': { x: 555, y: 300 }, '388': { x: 565, y: 305 },
  '389': { x: 570, y: 310 }, '390': { x: 575, y: 300 }, '391': { x: 580, y: 305 },
  '392': { x: 585, y: 315 }, '393': { x: 575, y: 320 }, '394': { x: 565, y: 315 },
  '395': { x: 555, y: 310 }, '396': { x: 550, y: 305 }, '397': { x: 560, y: 320 },
  '700': { x: 545, y: 345 }, '701': { x: 550, y: 350 }, '703': { x: 555, y: 355 },
  '704': { x: 540, y: 355 }, '705': { x: 535, y: 350 }, '706': { x: 545, y: 360 },
  '707': { x: 530, y: 345 }, '708': { x: 525, y: 350 }, '710': { x: 520, y: 340 },
  '711': { x: 510, y: 345 }, '712': { x: 505, y: 350 }, '713': { x: 515, y: 355 },
  '714': { x: 510, y: 360 }, '716': { x: 500, y: 355 },
  '717': { x: 495, y: 350 }, '718': { x: 490, y: 355 },
  '719': { x: 515, y: 335 }, '720': { x: 505, y: 330 }, '721': { x: 500, y: 325 },
  '722': { x: 510, y: 320 }, '723': { x: 495, y: 315 }, '724': { x: 500, y: 310 },
  '725': { x: 505, y: 305 }, '726': { x: 495, y: 300 }, '727': { x: 490, y: 305 },
  '728': { x: 470, y: 310 }, '729': { x: 475, y: 305 },
  // Oklahoma
  '730': { x: 430, y: 280 }, '731': { x: 435, y: 275 }, '734': { x: 440, y: 285 },
  '735': { x: 445, y: 290 }, '736': { x: 450, y: 280 }, '737': { x: 455, y: 285 },
  '738': { x: 460, y: 290 }, '739': { x: 400, y: 270 }, '740': { x: 455, y: 275 },
  '741': { x: 460, y: 280 }, '743': { x: 465, y: 275 }, '744': { x: 470, y: 280 },
  '745': { x: 440, y: 290 }, '746': { x: 435, y: 295 }, '747': { x: 410, y: 280 },
  '748': { x: 405, y: 285 }, '749': { x: 395, y: 280 },
  // North Dakota / South Dakota
  '580': { x: 430, y: 120 }, '581': { x: 435, y: 115 }, '582': { x: 425, y: 125 },
  '583': { x: 415, y: 120 }, '584': { x: 410, y: 115 }, '585': { x: 400, y: 110 },
  '586': { x: 350, y: 105 }, '587': { x: 355, y: 110 }, '588': { x: 365, y: 105 },
  '570': { x: 435, y: 155 }, '571': { x: 440, y: 150 }, '572': { x: 430, y: 160 },
  '573': { x: 415, y: 155 }, '574': { x: 420, y: 150 }, '575': { x: 385, y: 145 },
  '576': { x: 380, y: 150 }, '577': { x: 365, y: 145 },
  // West Virginia
  '247': { x: 725, y: 200 }, '248': { x: 720, y: 205 }, '249': { x: 730, y: 210 },
  '250': { x: 735, y: 205 }, '251': { x: 740, y: 200 }, '252': { x: 730, y: 195 },
  '253': { x: 745, y: 205 }, '254': { x: 735, y: 215 }, '255': { x: 740, y: 220 },
  '256': { x: 730, y: 215 }, '257': { x: 725, y: 210 }, '258': { x: 720, y: 200 },
  '259': { x: 715, y: 205 }, '260': { x: 710, y: 195 }, '261': { x: 705, y: 200 },
  '262': { x: 700, y: 190 }, '263': { x: 715, y: 200 }, '264': { x: 710, y: 205 },
  '265': { x: 720, y: 195 }, '266': { x: 725, y: 195 }, '267': { x: 730, y: 190 },
  '268': { x: 735, y: 185 },
};

/**
 * Calculate approximate distance between two ZIP codes in miles
 * Uses the map coordinate system from MoveMap component
 */
export function calculateDistance(fromZip: string, toZip: string): number {
  if (!fromZip || !toZip || fromZip.length < 3 || toZip.length < 3) {
    return 0;
  }

  const fromPrefix = fromZip.slice(0, 3);
  const toPrefix = toZip.slice(0, 3);

  const from = ZIP_COORDS[fromPrefix];
  const to = ZIP_COORDS[toPrefix];

  if (!from || !to) {
    return 0;
  }

  // Calculate pixel distance on the 960x600 map
  const dx = to.x - from.x;
  const dy = to.y - from.y;
  const pixelDistance = Math.sqrt(dx * dx + dy * dy);

  // The map is approximately 960px wide representing ~2800 miles (coast to coast)
  // This gives us roughly 2.9 miles per pixel
  const milesPerPixel = 2800 / 800;
  
  return Math.round(pixelDistance * milesPerPixel);
}

/**
 * Get approximate coordinates for a ZIP code
 * Returns the pixel position on a 960x600 US map
 */
export function getZipCoordinates(zip: string): { x: number; y: number } | null {
  if (!zip || zip.length < 3) return null;
  return ZIP_COORDS[zip.slice(0, 3)] || null;
}

/**
 * Format distance with appropriate units
 */
export function formatDistance(miles: number): string {
  if (miles === 0) return 'â€”';
  if (miles < 50) return `${miles} mi (local)`;
  return `${miles.toLocaleString()} mi`;
}
